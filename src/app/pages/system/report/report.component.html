<div class="report-title">{{report.title}}</div>
<sdm-report-status [status]="report.status"></sdm-report-status>

<div class="report-content" uk-grid>
    <div class="uk-width-expand@m">
      <div class="report-content__section-title">Descrição do Autor</div>
      <div class="report-content__section-description">{{report.description}}</div>

      <div class="report-content__section-title">Mídias</div>
      <div class="report-content__section-description uk-flex uk-flex-wrap">
        <div type="button" class="report-content__section-description__media uk-button-default uk-margin-small-right uk-margin-small-bottom" *ngFor="let media of report.media">
          <div uk-grid uk-lightbox="video-autoplay">
            <div>
              <a href="{{media.src}}">
                <div *ngIf="media.type=='img'">
                  <img src="{{media.src}}">
                </div>
                <div *ngIf="media.type=='video'">
                  <video><source src="{{media.src}}"></video>
                </div>
                <div *ngIf="media.type=='audio'">
                  <img src="http://superawesomevectors.com/wp-content/uploads/2015/10/headphones-vector-icon-thumb.jpg">
                  <audio><source src="{{media.src}}"></audio>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="report-content__section-title">Acompanhamento</div>
      <div class="report-content__section-description">
          <div *ngFor="let att of report.log">
            {{att.date}} às {{att.hour}} — {{att.author}} {{att.message}}
          </div>
      </div>

      <div class="report-content__section-title">Comentários</div>
      <div class="report-content__section-description">
        <div *ngFor="let commentary of report.comments">
          <article class="uk-comment uk-margin-small-bottom">
            <span class="uk-comment-title uk-margin-small-right">{{commentary.author}}</span>
            <span class="uk-text-meta">{{commentary.date}} às {{commentary.hour}}</span>
            <div class="uk-comment-body">{{commentary.message}}</div>
          </article>
        </div>
      </div>
          <input class="uk-input uk-margin-small-bottom" type="text" placeholder="Insira seu comentário" [(ngModel)]="commentary">
          <sdm-button [type]="'quaternary'" [btnWidth]="'large'" (click)="sendCommentary()">Enviar Comentário</sdm-button>
    </div>

    <div class="uk-width-1-3@m">
      <div class="report-content__section-title">Localização</div>
      <div class="report-content__section-description">
        <img src = "https://maps.googleapis.com/maps/api/staticmap?center={{report.location.street}} - {{report.location.region}}, {{report.location.place}}&zoom=15&size=170x170&scale=2&key=AIzaSyBXyKK61RQc67FPWJsCg_5x3gY8qrvQK9E"><br>
        <b>Bairro:</b> {{report.location.region}}<br>
        <b>Logradouro:</b> {{report.location.street}}<br>
        <b>Número:</b> {{report.location.number}}<br>
        <b>Complemento:</b> {{report.location.complements}}
      </div>

      <div class="report-content__section-title">Detalhes Adicionais</div>
      <div class="report-content__section-description">
        <b>Data do Ocorrido:</b> {{report.occurrenceDate}}<br>
        <b>Data do Relato:</b> {{report.reportDate}}<br>
        <b>Categoria:</b> {{report.category}}<!--> bugado, precisa alterar os nomes <--><br>
        <b>Órgão Responsável:</b> {{report.organ}}
      </div>
      <sdm-button [type]="'primary'" [btnWidth]="'large'" uk-tooltip="pos: left; title: Se você viu que o problema foi resolvido mas não foi atualizado no sistema, você pode marcar essa denúncia como resolvida">Finalizar Denúncia</sdm-button>
      <div class = "uk-margin-small-bottom"></div>
      <sdm-button [type]="'danger-secondary'" [btnWidth]="'large'" uk-tooltip="pos: left; title: A denúncia não será mais vinculada ao seu usuário e se tornará anônima">Desvincular Denúncia</sdm-button>
      <div class = "uk-margin-small-bottom"></div>
      <sdm-button [type]="'danger'" [btnWidth]="'large'">Deletar Denúncia</sdm-button>

    </div>
</div>