<div class="report-title">{{report.title}}</div>
<sdm-report-status [status]="report.status"></sdm-report-status>

<div class="report-content" uk-grid>
    <div class="uk-width-expand@m">
        <div class="report-content__section-title">Descrição do Autor</div>
        <div class="report-content__section-description">{{report.description}}</div>

        <div class="report-content__section-title" *ngIf="hasMedia">Mídias</div>
        <div class="report-content__section-description uk-flex uk-flex-wrap" *ngIf="hasMedia"></div>

        <div class="report-content__section-title">Acompanhamento</div>
        <div class="report-content__section-description">
            <div *ngFor="let att of log">
                {{att.date}} às {{att.hour}} — {{att.author}} {{att.message}}
            </div>
        </div>

        <div class="report-content__section-title" *ngIf="hasComments">Comentários</div>
        <div class="report-content__section-description" *ngIf="hasComments">
            <div *ngFor="let comment of comments">
                <article class="uk-comment uk-margin-small-bottom">
                    <span class="uk-comment-title uk-margin-small-right">{{comment.author}}</span>
                    <span class="uk-text-meta">{{comment.date}} às {{comment.hour}}</span>
                    <div class="uk-comment-body">{{comment.message}}</div>
                </article>
            </div>
        </div>
        <input *ngIf="user !== null" class="uk-input uk-margin-small-bottom" type="text" placeholder="Insira seu comentário" [(ngModel)]="commentary">
        <sdm-button *ngIf="user !== null" [type]="'quaternary'" [btnWidth]="'large'" (click)="sendCommentary()">Enviar Comentário</sdm-button>
    </div>

    <div class="uk-width-1-3@m">
        <div class="report-content__section-title">Localização</div>
        <div class="report-content__section-description">
            <img src="https://maps.googleapis.com/maps/api/staticmap?center={{report.address}} - {{report.neighborhood}}, {{place}}&zoom=15&size=170x170&scale=2&key=AIzaSyBXyKK61RQc67FPWJsCg_5x3gY8qrvQK9E"><br>
            <b>Bairro:</b> {{report.neighborhood}}<br>
            <b>Logradouro:</b> {{report.address}}<br>
            <b>Número:</b> {{report.number}}<br>
            <b>Complemento:</b> {{report.complement}}
        </div>

        <div class="report-content__section-title">Detalhes Adicionais</div>
        <div class="report-content__section-description">
            <b>Data do Relato:</b> {{report.date}}<br>
            <b>Categoria:</b> {{category}}
            <br>
            <b>Órgão Responsável:</b> {{organ}}
        </div>
        <div class="report-content__section-title">Compartilhar</div>
        <div class="report-content__section-description">
            <a href="" uk-icon="icon: facebook; ratio: 1.4" class="report-content__section-description__socialicons"></a>
            <a href="" uk-icon="icon: twitter; ratio: 1.4" class="report-content__section-description__socialicons"></a>
            <a href="" uk-icon="icon: google-plus; ratio: 1.4" class="report-content__section-description__socialicons"></a>
        </div>
        <sdm-button [type]="'primary'" [btnWidth]="'large'" uk-tooltip="pos: left; title: Se você viu que o problema foi resolvido mas não foi atualizado no sistema, você pode marcar essa denúncia como resolvida">Finalizar Denúncia</sdm-button>
        <div class="uk-margin-small-bottom"></div>
        <sdm-button *ngIf="isMine" [type]="'danger-secondary'" [btnWidth]="'large'" uk-tooltip="pos: left; title: A denúncia não será mais vinculada ao seu usuário e se tornará anônima">Desvincular Denúncia</sdm-button>
        <div class="uk-margin-small-bottom"></div>
        <sdm-button *ngIf="isMine" [type]="'danger'" [btnWidth]="'large'">Deletar Denúncia</sdm-button>
    </div>
</div>